<!DOCTYPE html>
<html lang="en" class="bg-black">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/" href="" />
  <link rel="stylesheet" href="build.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ecomaille</title>
</head>

<body>
  <div class="flex">
    <div class="hidden h-screen sm:flex">
      <div class="menu h-screen w-60 rounded-3xl bg-zinc-800 p-4">
        <div class="onglet list-none text-white">
          <li class="rounded-xl p-3 hover:bg-cyan-100 hover:bg-opacity-10">
            <a href="index.html" class="block h-full w-full text-white">Calcul</a>
          </li>
        </div>
      </div>
    </div>
    <div class="p-7" id="graphique" style="display: none">
      <div class="budget mb-12 h-40 place-items-center justify-center rounded-2xl bg-zinc-800">
        <div class="text flex place-items-center justify-center">
          <h1 class="mt-4 mb-8 text-white uppercase font-semibold text-xl">Dépenses</h1>
        </div>
        <div class="input flex place-items-center justify-center px-8 uppercase font-semibold text-xl">
          <input type="number" placeholder="0" class="rounded-lg p-3 text-center" id="result" disabled />
        </div>
      </div>
      <div class="budget h-40 place-items-center justify-center rounded-2xl bg-zinc-800">
        <div class="text flex place-items-center justify-center">
          <h1 class="mt-4 mb-8 text-white uppercase font-semibold text-lg">Économie</h1>
        </div>
        <div class="input flex place-items-center justify-center px-8">
          <input type="number" placeholder="0" class="rounded-lg p-3 text-center uppercase font-semibold text-lg"
            id="eco" disabled />
        </div>
      </div>

      <canvas class="" id="myChart" style="display: none; width: 300px; height: 300px"></canvas>
      <button class=" ml-20 h-12 w-40 rounded-xl bg-white mt-5 sm:hidden" onclick="suivant()">
        suivan
      </button>

    </div>

    <div class="ml-9 justify-center rounded">
      <div class="depenses flex flex-col place-items-center justify-center" id="LesInputs">
        <div class="budget mt-5 h-40 place-items-center justify-center rounded-2xl bg-zinc-800">
          <div class="text flex place-items-center justify-center">
            <h1 class="mt-4 mb-8 text-white uppercase font-semibold text-lg">Budget</h1>
          </div>
          <div class="input flex place-items-center justify-center px-8">
            <input type="number" placeholder="insert le budget"
              class="text-center rounded-lg p-3 uppercase font-semibold text-m" id="n0" />
          </div>
        </div>

        <h1 class="p-3 text-base text-white underline decoration-solid">
          insert tes prochaines Dépenses
        </h1>
        <div class="mt-2 sm:mt-2">
          <input oninput="changeLoy(this)" class=" text-center uppercase font-semibold text-lg w-64 rounded-lg p-2.5"
            type="number" id="n1" value="" placeholder="loyer" />
        </div>
        <div class="mt-6 sm:mt-10 xl:mt-10">
          <input oninput="changeTra(this)" class="text-center uppercase font-semibold text-lg w-64 rounded-lg p-2.5"
            type="number" id="n2" value="" placeholder="Transports" />
        </div>

        <div class="mt-6 sm:mt-10 xl:mt-10">
          <input oninput="changeAss(this)" class="text-center uppercase font-semibold text-lg w-64 rounded-lg p-2.5"
            type="number" id="n3" value="" placeholder="Assurances" />
        </div>

        <div class="mt-6 sm:mt-10 xl:mt-10">
          <input oninput="changeAlim(this)" class="text-center  uppercase font-semibold text-lg w-64 rounded-lg p-2.5"
            type="number" id="n4" value="" placeholder="Alimentation" />
        </div>

        <div class="mt-6 sm:mt-10 xl:mt-10">
          <input oninput="changeVet(this)" class="text-center  uppercase font-semibold text-lg w-64 rounded-lg p-2.5"
            type="number" id="n5" value="" placeholder="Vêtement" />
        </div>

        <div class="mt-6 sm:mt-10 xl:mt-10">
          <input oninput="changeImp(this)" class="text-center  uppercase font-semibold text-lg w-64 rounded-lg p-2.5"
            type="number" id="n6" value="" placeholder="impots" />
        </div>
        <div class="mt-10 flex place-items-end sm:hidden sm:place-items-end">
          <button class="h-12 w-40 rounded-xl bg-white" onclick="changerElements()">
            suivant
          </button>
        </div>
      </div>
    </div>
    <div class=" rounded hidden justify-items-center flex-col" id="budget">
      <div class="depenses flex flex-col place-items-center justify-center">
        <div class="budget mt-5 h-40 place-items-center justify-center rounded-2xl bg-zinc-800">
          <div class="text flex place-items-center justify-center">
            <h1 class="mt-4 mb-8 text-white">Budget</h1>
          </div>
          <div class="input flex place-items-center justify-center px-8">
            <input type="number" placeholder="0" class="text-center rounded-lg p-3 uppercase font-semibold text-m"
              id="na" disabled />
          </div>
        </div>



        <div class="mt-2 sm:mt-2">
          <input oninput="changeLoy(this)"
            class="text-center w-64 rounded-lg p-2.5 mt-12 uppercase font-semibold text-lg" type="number" id="nb"
            value="" placeholder="loyer" disabled />
        </div>

        <div class="mt-6 sm:mt-10 xl:mt-10">
          <input oninput="changeTra(this)" class="text-center w-64 rounded-lg p-2.5 uppercase font-semibold text-lg"
            type="number" id="nc" value="" placeholder="Transports" disabled />
        </div>

        <div class="mt-6 sm:mt-10 xl:mt-10">
          <input oninput="changeAss(this)" class="text-center w-64 rounded-lg p-2.5 uppercase font-semibold text-lg"
            type="number" id="nd" value="" placeholder="Assurances" disabled />
        </div>

        <div class="mt-6 sm:mt-10 xl:mt-10">
          <input oninput="changeAlim(this)" class="text-center w-64 rounded-lg p-2.5 uppercase font-semibold text-lg"
            type="number" id="ne" value="" placeholder="Alimentation" disabled />
        </div>

        <div class="mt-6 sm:mt-10 xl:mt-10">
          <input oninput="changeVet(this)" class="text-center w-64 rounded-lg p-2.5 uppercase font-semibold text-lg"
            type="number" id="nf" value="" placeholder="Vêtement" disabled />
        </div>

        <div class="mt-6 sm:mt-10 xl:mt-10">
          <input oninput="changeImp(this)" class="text-center w-64 rounded-lg p-2.5 uppercase font-semibold text-lg"
            type="number" id="ng" value="" placeholder="impots" disabled />
        </div>
        <div class="mt-10 flex place-items-end sm:hidden sm:place-items-end">
          <button class="h-12 w-40 rounded-xl bg-white" onclick="changerElements()">
            precendant
          </button>
        </div>
      </div>
    </div>
    <div class="ml-96 hidden place-items-end sm:flex sm:place-items-end">
      <button class="h-12 w-40 rounded-xl bg-white  mr-12 hidden" onclick="precendant()" id="precedant">
        précedant
      </button>
      <button class="h-12 w-40 rounded-xl bg-white" onclick="changerElements()" id="button1">
        suivant
      </button>
      <button class="h-12 w-40 rounded-xl bg-white hidden justify-center justify-items-center" onclick="suivant()"
        id="button2">
        <h1 class="mt-3">suivant</h1>
      </button>
    </div>
  </div>








  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"></script>

  <script>
    const data = {
      labels: [
        "loyer",
        "transport",
        "assurances",
        "alimentation",
        "vêtement",
        "impots",
      ],
      datasets: [
        {
          label: "",
          data: [],
          backgroundColor: [
            "rgba(255, 26, 104, 0.2)",
            "rgba(54, 162, 235, 0.2)",
            "rgba(255, 206, 86, 0.2)",
            "rgba(75, 192, 192, 0.2)",
            "rgba(153, 102, 255, 0.2)",
            "rgba(255, 159, 64, 0.2)",
            "rgba(0, 0, 0, 0.2)",
          ],
          borderColor: [
            "rgba(255, 26, 104, 1)",
            "rgba(54, 162, 235, 1)",
            "rgba(255, 206, 86, 1)",
            "rgba(75, 192, 192, 1)",
            "rgba(153, 102, 255, 1)",
            "rgba(255, 159, 64, 1)",
            "rgba(0, 0, 0, 1)",
          ],
          borderWidth: 1,
        },
      ],
    };

    const config = {
      type: "bar",
      data,
      options: {
        indexAxis: "y",
        maintainAspectRatio: false,
        responsive: false,
        scales: {
          y: {
            suggestedMax: 1200,
            beginAtZero: true,
          },
        },
        legend: {
          display: false, // Enlever la légende
        },
      },
    };

    window.addEventListener("resize", function () {
      if (window.innerWidth < 768) {
        myChart.config.options.indexAxis = "y";
      } else {
        myChart.config.options.indexAxis = "x";
      }
      chart.update();
    });

    const myChart = new Chart(document.getElementById("myChart"), config);

    function changeLoy(input) {
      var n1 = parseInt(input.value);
      myChart.config.data.datasets[0].data[0] = n1;
      myChart.update();
    }

    function changeTra(input) {
      var n2 = parseInt(input.value);
      myChart.config.data.datasets[0].data[1] = n2;
      myChart.update();
    }

    function changeAss(input) {
      var n3 = parseInt(input.value);
      myChart.config.data.datasets[0].data[2] = n3;
      myChart.update();
    }

    function changeAlim(input) {
      var n4 = parseInt(input.value);
      myChart.config.data.datasets[0].data[3] = n4;
      myChart.update();
    }

    function changeVet(input) {
      var n5 = parseInt(input.value);
      myChart.config.data.datasets[0].data[4] = n5;
      myChart.update();
    }

    function changeImp(input) {
      var n6 = parseInt(input.value);
      myChart.config.data.datasets[0].data[5] = n6;
      myChart.update();
    }
  </script>

  <script>//
    function changerElements() {
      document.getElementById("myChart").style.display = "block";
      document.getElementById("graphique").style.display = "block";
      document.getElementById("LesInputs").style.display = "none";
      document.getElementById("budget").style.display = "none";
      document.getElementById("button2").style.display = "flex";
      document.getElementById("button1").style.display = "none";
    }

    function suivant() {
      document.getElementById("myChart").style.display = "none";
      document.getElementById("graphique").style.display = "none";
      document.getElementById("budget").style.display = "flex";
      document.getElementById("button2").style.display = "none";
      document.getElementById("button2").style.display = "none";
    }
  </script>

  <script>
    document.getElementById("n0").addEventListener("input", budget);
    function budget() {
      var n0 = parseInt(document.getElementById("n0").value);
      var na = parseInt(document.getElementById("n0").value);
      var nb = parseInt(document.getElementById("nb").value);
      var nc = parseInt(document.getElementById("nc").value);
      var nd = parseInt(document.getElementById("nd").value);
      var ne = parseInt(document.getElementById("ne").value);
      var nf = parseInt(document.getElementById("nf").value);
      var ng = parseInt(document.getElementById("ng").value);

      var result = na * 0.27;
      var result2 = na * 0.035;
      var result3 = na * 0.1628;
      var result4 = na * 0.18;
      var result5 = na * 0.04;
      var result6 = na * 0.067;

      document.getElementById("na").value = n0.toString();
      document.getElementById("nb").value = result.toString();
      document.getElementById("nc").value = result2.toString();
      document.getElementById("nd").value = result3.toString();
      document.getElementById("ne").value = result4.toString();
      document.getElementById("nf").value = result5.toString();
      document.getElementById("ng").value = result6.toString();
    }


    function calc() {
      var n0 = parseInt(document.getElementById("n0").value);
      var n1 = parseInt(document.getElementById("n1").value);
      var n2 = parseInt(document.getElementById("n2").value);
      var n3 = parseInt(document.getElementById("n3").value);
      var n4 = parseInt(document.getElementById("n4").value);
      var n5 = parseInt(document.getElementById("n5").value);
      var n6 = parseInt(document.getElementById("n6").value);

      if (isNaN(n1)) n1 = 0;
      if (isNaN(n2)) n2 = 0;
      if (isNaN(n3)) n3 = 0;
      if (isNaN(n4)) n4 = 0;
      if (isNaN(n5)) n5 = 0;
      if (isNaN(n6)) n6 = 0;

      var result = n1 + n2 + n3 + n4 + n5 + n6;
      var result2 = n0 - [n1 + n2 + n3 + n4 + n5 + n6];
      console.log(result);
      console.log(result2);
      document.getElementById("result").value = result.toString();
      document.getElementById("eco").value = result2.toString();
    }

    var inputs = document.querySelectorAll("input[type='number']");
    inputs.forEach(function (input) {
      input.addEventListener("input", calc);
    });
  </script>
  <script type="module" src="/main.js"></script>
</body>

</html>